{% extends "home/base.html" %}
{% load wagtailcore_tags %}
{% load wagtailimages_tags %}
{% load static %}


{% block title %}
{{page.title}}
{% endblock %}


{% block css %}

<style media="screen">
  /* Make the image fully responsive */
  .carousel-inner img {
    max-width: 100%;
    height: auto;
  }

  .myCarousal {
    height: 70vh;
  }
</style>

{% endblock %}


{% block content %}

<br><br>


{# gallery #}

<div id="gallery" class="carousel slide carousal-fade" data-ride="carousel">
  <ol class="carousel-indicators">
    {% for image  in page.gallery_images  %}

    <li data-target="#gallery" data-slide-to="{{forloop.counter0}}" {% if not forloop.counter0 %}class="active" {% endif %}></li>
    {% endfor %}
  </ol>

  <div class="carousel-inner">

    {% for img in page.gallery_images  %}

    <div class="carousel-item {% if not forloop.counter0 %} active{% endif %} ">
      {% image img.value max-10000x10000 as image%}
      <img class="first-slide" src="{{image.url}}" alt="First slide">
      <div class="container">
        <div class="carousel-caption text-left">
          {# add caption #}
        </div>
      </div>
    </div>

    {% endfor %}

  </div>
</div>



<a class="carousel-control-prev" href="#gallery" role="button" data-slide="prev">
  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
  <span class="sr-only">Previous</span>
</a>
<a class="carousel-control-next" href="#gallery" role="button" data-slide="next">
  <span class="carousel-control-next-icon" aria-hidden="true"></span>
  <span class="sr-only">Next</span>
</a>
</div>




<br><br>




{# scrolling text #}
<div class="" style="background:#c7e8ca;color: #000000; width:75%; margin: 0 auto; padding: 4px 5px 3px 5px;" data-aos="fade-left">
  <marquee scrolldelay="125">
    {{ page.scrolling_text}}
  </marquee>
</div>



<div class="container mt-5">

  {# about section #}
  <div class="row featurette text-center " data-aos="fade-up">
    <div class="col-md-7 showcase-left">
      <h2 class="featurette-heading"> MESA <span class="text-muted"></span></h2>

      <p class="lead">
        {{page.about}}
      </p>
    </div>
    <div class="col-md-5 showcase-right">
      {% image page.about_image max-500x500 as about_image%}
      <img class="featurette-image img-fluid mx-auto" alt="500x500" style="width:500px; height:300px; box-shadow: 5px 5px 5px;" src="{{about_image.url}}" data-src="holder.js/500x300/auto">
    </div>
  </div>

  <br>
  <hr class="featurette-divider">
  <br>

  {# Our Aim section #}
  <div class="row featurette text-center">

    <div class="col-md-7 order-md-2 showcase-right" data-aos="fade-left" data-aos-easing="ease-in-sine">
      <h2 class="featurette-heading">Our Aim <span class="text-muted"></span></h2>
      <p class="lead ">
        {{page.our_aim}}
      </p>
    </div>

    <div class="col-md-5 order-md-1 showcase-left" data-aos="fade-right" data-aos-easing="ease-in-sine">
      {% image page.our_aim_image max-500x500 as our_aim_image%}
      <img class="featurette-image img-fluid mx-auto" src="{{our_aim_image.url}}" data-src="holder.js/500x300/auto" alt="500x300" style="width: 500px; height: auto; box-shadow: 5px 5px 5px">
    </div>

  </div>

  <br>

</div>



<br><br>



{# announcements section #}

<div class="container">
  <div class="row" data-aos="fade-up">
    <div class="col">
      <h2 class="p-2 text-primary font-weight-bold text-center bg-light">Announcements</h2>

    </div>
  </div>
  <br><br>
</div>

<br><br>

<div class="container">
  <div class="row justify-content-center">
    <div class="owl-carousel">

      {% for card in page.announcement_cards  %}
      {% include_block card %}
      {% endfor %}
    </div>
  </div>
</div>


<br><br>

{% endblock content %}

{% block js %}

<script type="text/javascript">
  $(document).ready(function() {
    $(".owl-carousel").owlCarousel({
      loop: true,
      margin: 10,
      items: 1,
      nav: true,
      lazyLoad: true,
      responsiveClass: true,
      autoplay: true,
      autoplayTimeout: 2000,
      autoplayHoverPause: true,

      responsive: {
        0: {
          items: 1,
        },
        600: {
          items: 2,
        },
        1000: {
          items: 3,
        }
      }
    });
  });
</script>


{% endblock %}
