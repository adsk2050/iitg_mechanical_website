{% extends "base.html" %}

{% load static %}

{% load wagtailcore_tags wagtailimages_tags %}

{% block body_class %}template-faculty-page{% endblock %}

{% block content %}

    <div class="container bread-detail">
        <div class="row">
            <div class="col-md-12">
                <div class="col-md-6">
                    <div class="row">
                        <h1>{{ page.specific.first_name }} {{ page.specific.last_name }}</h1>
                        <h3>{{ page.specific.get_designation_display }}</h3>
                        <!-- <figure class="hidden-md-up">
                            {% image page.specific.photo fill-100x100 %}
                        </figure> -->
                        <div class="container">
                          {% if page.intro %}
                              <p class="introduction">
                                  {{ page.intro }}
                              </p>
                          {% endif %}
                        </div>
                        <div>{{ page.specific.body|richtext }}</div>
                    </div>
                </div>

                <div class="col-md-5 col-md-offset-1 ">
                    <div class="row">
                      <h5>hi there</h5>
                        <figure class="hidden-md-down facultypic">
                            {% image page.specific.photo width-300 %}
                        </figure>
                        <ul class="bread-meta">
                          {% if page.specific.office_address_line_1 %}
                              <li>
                                  <h4>Office Address</h4>
                                  <p>{{ page.specific.office_address_line_1 }}</p>
                              </li>
                          {% endif %}

                          {% if page.specific.office_contact_number %}
                              <li>
                                  <h4>Office contact number</h4>
                                  <p>{{ page.specific.office_contact_number }}</p>
                              </li>
                          {% endif %}

                          {% if page.specific.home_address_line_1 %}
                              <li>
                                  <h4>Home address</h4>
                                  <p>{{ page.specific.home_address_line_1 }}</p>
                              </li>
                          {% endif %}

                          {% if page.specific.home_contact_number %}
                              <li>
                                  <h4>Home contact Number</h4>
                                  <p>{{ page.specific.home_contact_number }}</p>
                              </li>
                          {% endif %}

                          {% if page.specific.email_id %}
                              <li>
                                  <h4>Mail ID</h4>
                                  <p>{{ page.specific.email_id }}</p>
                              </li>
                          {% endif %}

                          {% if page.specific.office_contact_number %}
                              <li>
                                  <h4>Personal Website</h4>
                                  <p><a href="{{ page.specific.website }}">{{ page.specific.website }}</a></p>
                              </li>
                          {% endif %}

                          {% if page.specific.joining_date %}
                              <li>
                                  <h4>Joining Date</h4>
                                  <p>{{ page.specific.joining_date }}</p>
                              </li>
                          {% endif %}


                            {% with interests=page.specific.research_interests.all %}
                                {% if interests %}
                                    <li>
                                        <h4>Research Interests</h4>
                                        <ul>
                                            {% for tag in interests %}
                                                <!-- <li> -->
                                                    <a href="{{ page.get_parent.url }}?tag={{ tag }}">{{ tag }}</a> |
                                                <!-- </li> -->
                                            {% endfor %}
                                        </ul>
                                    </li>
                                {% endif %}
                            {% endwith %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

	<hr>    
	<!-- Administrative responsibilities -->
	<div>
		<h3>Administrative responsibilities</h3>
		<ul>
			{% if page.specific.get_additional_roles_display != "Not Applicable" %}
				<li>Additional Role: {{ page.specific.get_additional_roles_display }}</li>
			{% endif %}

			{% if page.specific.get_laboratory_in_charge_display != "Not Applicable" %}
				<li>Laboratory in charge: {{ page.specific.get_laboratory_in_charge_display }}</li>
			{% endif %}	

			{% if page.specific.get_faculty_in_charge_display != "Not Applicable" %}
				<li>Faculty in charge: {{ page.specific.get_faculty_in_charge_display }}</li>
			{% endif %}	

			{% if page.specific.get_dupc_display != "Not Applicable" %}
				<li>DUPC: {{ page.specific.get_dupc_display }}</li>
			{% endif %}

			{% if page.specific.get_dppc_display != "Not Applicable" %}
				<li>DPPC: {{ page.specific.get_dppc_display }}</li>
			{% endif %}

			{% if page.specific.get_disciplinary_committee_display != "Not Applicable" %}
				<li>Disciplinary committee: {{ page.specific.get_disciplinary_committee_display }}</li>
			{% endif %}

			{% if page.specific.get_disposal_committee_display != "Not Applicable" %}
				<li>Disposal committee: {{ page.specific.get_disposal_committee_display }}</li>
			{% endif %}
		</ul>
	</div>
	<hr>

	<!-- Announcements -->
	<div>
    {% with announcements=page.faculty_announcement.all %}
      {% if announcements %}
        <h3>Announcements</h3>
    		{% for announcement in announcements %}
    			<div>
    				<h3>{{ announcement.title }}</h3>
    				<div>{{ announcement.date }}</div>
    				<div>{{ announcement.message|richtext }}</div>
    				<a href="{{ announcement.link }}">Link</a>
    				<div>
    					<div>{{ announcement.document|truncatechars:25 }}</div>
    					<a href="{{ announcement.document.url }}">Download pdf</a>
    			</div>
    			<br>
        {% endfor %}
      {% endif %}
		{% endwith %}
	</div>
  <hr>
  
  <!-- Labs -->
  <div>
    {% if lab_list %}
    <h3>Labs</h3>
    {% for lab in lab_list %}
      <div>
        <h3><a href="{{ lab.url }}">{{ lab.specific.name }}</a></h3>
        <div>{{ lab.specific.get_lab_type_display }}</div>
        <div>{{ lab.specific.faculty_incharge }}</div>
      </div>
      <br>
    {% endfor %}
    {% endif %}
  </div>
  <hr>

  <!-- Publications -->
  <div>
    {% if lab_list %}
    <h3> Publications</h3>
    {% for pub in pub_list %}
      <div>
        <h3><a href="{{ pub.url }}">{{ pub.specific.name }}</a></h3>
        <div>[{{ pub.specific.get_pub_type_display }}]</div>
        {% if pub.specific.faculty.all|length != 0 %}
          {% for faculty in pub.specific.faculty.all %}
            <div><a href="{{ faculty.faculty.url }}">{{ faculty.faculty }}</a>, </div>
          {% endfor %}
        {% endif %}

        {% if pub.specific.students.all|length != 0 %}
            {% for student in pub.specific.students.all %}
              <div><a href="{{ student.student.url }}">{{ student.student }}</a>, </div>
            {% endfor %}
        {% endif %}
      </div>
      <br>
    {% endfor %}
    {% endif %}
  </div>
  <hr>

  <!-- Projects -->
  <div>
    {% if project_list %}
      <h3> Projects</h3>
      {% for project in project_list %}
        <div>
          <h3><a href="{{ project.url }}">{{ project.specific.name }}</a></h3>
          <div>[{{ project.specific.get_project_type_display }}]</div>
          <div>From: {{ project.specific.start_date }} to {{ project.specific.end_date }}</div>
        </div>
        <br>
      {% endfor %}
    {% endif %}
  </div>
  <hr>

  <!-- Gallery Pics -->
  <div>
    {% for pic in page.gallery_images.all %}
      <div style="float: left; margin: 10px">
        <h3>{{ pic.caption }}</h3>
        <div>{% image pic.image fill-500x500 %}</div>
      </div>
    {% endfor %}
  </div>
    
{% endblock content %}
