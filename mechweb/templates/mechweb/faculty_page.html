{% extends "base.html" %}
{% load static %}
{% load wagtailcore_tags wagtailimages_tags %}
{% load mechweb_tags %}

{% block body_class %}template-faculty-page{% endblock %}

{% block content %}
{% get_media_prefix as MEDIA_URL %}
<!-- Page Container -->
<div class="w3-content mt-3">

    <!-- The Grid -->
    <div class="w3-row-padding">

        <!-- Left Column -->
        <div class="w3-third">

            <div class="w3-white w3-text-grey w3-card-4">
                <div class="w3-display-container">
                    {% if page.specific.photo %} {% image page.specific.photo original as photo %}
                    <img src="{{ photo.url }}" style='width:100%; height:100%; object-fit: contain' alt="{{ photo.alt }}" class="" /> {% else %} {% with MEDIA_URL|add:'images/faculty/'|add:page.slug|add:'.jpg' as image_static %}
                    <img src="{{ image_static }}" style='width:100%; height:100%; object-fit: contain' alt="{{ photo.alt }}" class="" /> {% endwith %} {% endif %}
                </div>
                <div class="w3-container">
                    <h1>{{ page }}</h1>
                    {% if page.specific.on_visit %}
                        <h4>Visiting  {{ page.specific.get_designation_display }} </h4><h6>from {{ page.specific.on_insti }}<h6>
                    {% elif page.specific.on_lien %}
                        <h4>{{ page.specific.get_designation_display }}</h4><h6> on lien to {{ page.specific.on_insti }} </h6>
                    {% elif page.specific.on_depute %}
                        <h4>{{ page.specific.get_designation_display }}</h4><h6> on deputation to {{ page.specific.on_insti }} </h6>
                    {% else %}
                        <h4>{{ page.specific.get_designation_display }}</h4>
                    {% endif %}
                    <hr> {% if page.specific.office_address_line_1 %}
                    <li>
                        <h4>Office Address</h4>
                        <p>{{ page.specific.office_address_line_1 }}</p>
                    </li>
                    {% endif %} {% if page.specific.office_contact_number %}
                    <li>
                        <h4>Office contact number</h4>
                        <p>{{ page.specific.office_contact_number }}</p>
                    </li>
                    {% endif %} {% if page.specific.home_address_line_1 %}
                    <li>
                        <h4>Home address</h4>
                        <p>{{ page.specific.home_address_line_1 }}</p>
                    </li>
                    {% endif %} {% if page.specific.home_contact_number %}
                    <li>
                        <h4>Home contact Number</h4>
                        <p>{{ page.specific.home_contact_number }}</p>
                    </li>
                    {% endif %} {% if page.specific.email_id %}
                    <li>
                        <h4>Mail ID</h4>
                        <p>{{ page.specific.email_id|noscrape }}</p>
                    </li>
                    {% endif %} {% if page.specific.website %}
                    <li>
                        <h4>
                        <p><a href="{{ page.specific.website }}">Personal Website</a></p></h4>
                    </li>
                    {% endif %} {% if page.specific.joining_date %}
                    <li>
                        <h4>Joining Year : {{ page.specific.joining_date|date:"Y" }}</h4>
                    </li>
                    {% endif %} {% if page.specific.scopus_profile_link %}
                        <li><a href="{{ page.specific.scopus_profile_link }}">Scopus</a></li>
                    {% endif %} {% if page.specific.google_scholar_profile_link %}
                        <li><a href="{{ page.specific.google_scholar_profile_link }}">Google Scholar</a></li>
                    {% endif %} {% if page.specific.researchgate_profile_link %}
                        <li><a href="{{ page.specific.researchgate_profile_link }}">ResearchGate</a></li>
                    {% endif %}
                    {% if page.specific.research_interests %}
                    <li>
                        <h4>Research Interests :</h4>
                        <p>{% for tag in page.specific.research_interests.all %} <a href="{{ page.get_parent.url }}?tag={{ tag }}">{{ tag }}</a> | {% endfor %}</p>
                    </li>
                    {% endif %}

                    <hr>

                    <div class="w3-container">
                        <h3 class="w3-large w3-text-theme text-center"><i class="fa fa-notification fa-fw w3-margin-right w3-text-teal"></i>Announcements</b></h3> {% with announcements=page.faculty_announcement.all %} {% if announcements %} {% for announcement in announcements %}
                        <div class="w3-container">
                            <h5>{{ announcement.title }}</h5>
                            <p>{{ announcement.date }}</p>
                            <p>{{ announcement.message|richtext }}</p>
                            <a href="{{ announcement.link }}">Link</a>
                            <div>
                                <div>{{ announcement.document|truncatechars:25 }}</div>
                                <a href="{{ announcement.document.url }}">Download pdf</a>
                            </div>
                        </div>
                        {% endfor %} {% else %}
                        <p>No new Announcments</p>
                        {% endif %} {% endwith %}
                    </div>

                </div>
            </div>
            <br>

            <!-- End Left Column -->
        </div>

        <!-- Right Column -->
        <div class="w3-twothird">
            <div class="w3-container w3-card w3-white  w3-margin-bottom">
                <h2 class="w3-text-grey w3-padding-16"><i class="fa fa-certificate fa-fw w3-margin-right w3-xxlarge w3-text-teal"></i>About</h2>
                <div class="w3-container">
                    <p>{{ page.specific.intro }}</p>
                    <p>{{ page.specific.body|richtext }}</p>
                </div>
            </div>

            <!-- <div class="w3-container w3-card w3-white w3-margin-bottom">
        <h2 class="w3-text-grey w3-padding-16"><i class="fa fa-certificate fa-fw w3-margin-right w3-xxlarge w3-text-teal"></i>Awards and Achievements</h2>
        <div class="w3-container">
          {% for award in page.award_fac.all %}
          {{ award.award_title }}
          <h5 class="w3-opacity">{{ pic.caption }}</b></h5>
          {% image pic.image fill-500x500 %}
          {% endfor %}
        </div>

      </div> -->

      {% if lab_list %}
        <div class="w3-container w3-card w3-white w3-margin-bottom">
        <h2 class="w3-text-grey w3-padding-16"><i class="fa fa-certificate fa-fw w3-margin-right w3-xxlarge w3-text-teal"></i>Labs</h2> {% for lab in lab_list %}
        <div class="w3-container">
        <h5 class="w3-opacity"><a href="{{ lab.url }}">{{ lab.specific.name }}</a></b></h5>
        <p>{{ lab.specific.get_lab_type_display }}</p>
        <hr>
        </div>
        {% endfor %}
        </div>
      {% endif %}
      {% if pub_list %}
        <div class="w3-container w3-card w3-white w3-margin-bottom">
        <h2 class="w3-text-grey w3-padding-16"><i class="fa fa-certificate fa-fw w3-margin-right w3-xxlarge w3-text-teal"></i>Recent Publications</h2>
        <ol class="faclist" type="1">
          {% for pub in pub_list %}
          {% if forloop.counter < 6 %}
              <div class="w3-container">
                <li class="faclist">
                  <h5 class="w3-opacity"><a href="{{ pub.url }}">{{ pub }}</a></h5>
              </li>

            <hr>
            </div>
          {% endif %}
          {% endfor %}
        </ol>

      {% endif %}



            </div>

      {% if project_list %}
      <div class="w3-container w3-card w3-white w3-margin-bottom">
        <h2 class="w3-text-grey w3-padding-16"><i class="fa fa-certificate fa-fw w3-margin-right w3-xxlarge w3-text-teal"></i>Recent Projects</h2>

<ol class="faclist">
  {% for project in project_list %}
    <div class="w3-container">
      <li class="faclist">
        <h5 class="w3-opacity"><a href="{{ project.url }}">{{ project.specific.name }}</a></h5>
          <p>{{ project.specific.get_project_type_display }}<br>From: {{ project.specific.start_date|date:"Y" }} to {{ project.specific.end_date|date:"Y" }}</p>
          <hr>
      </li>

      </div>
  {% endfor %}
</ol>
        </div>
        {% endif %}

        {% if course_list %}
        <div class="w3-container w3-card w3-white w3-margin-bottom">
            <h2 class="w3-text-grey w3-padding-16"><i class="fa fa-certificate fa-fw w3-margin-right w3-xxlarge w3-text-teal"></i>Courses taught</h2> {% for course in course_list %}
            <div class="w3-container">
                <h5 class="w3-opacity"><a href="{{ course.url }}">[ {{ course.specific.code }} ]{{ course.specific.name }}</a></b></h5>
                <p>{{ course.specific.get_course_type_display }} for {{ course.specific.eligible_programmes }} in {{ course.specific.semester }} semester</p>
                <p></p>
                <hr>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <!-- <div class="w3-container w3-card w3-white  w3-margin-bottom">
        <h2 class="w3-text-grey w3-padding-16"><i class="fa fa-certificate fa-fw w3-margin-right w3-xxlarge w3-text-teal"></i>Administrative responsibilities</h2>
        <div class="w3-container">
          <ul>
          {% if page.specific.get_additional_roles_display != "Not Applicable" %}
          <li><h5 class="w3-opacity">Additional Role: {{ page.specific.get_additional_roles_display }}</h5></li>
          {% endif %}

          {% if page.specific.get_laboratory_in_charge_display != "Not Applicable" %}
            <li><h5 class="w3-opacity">Laboratory in charge: {{ page.specific.get_laboratory_in_charge_display }}</h5></li>
          {% endif %}

          {% if page.specific.get_faculty_in_charge_display != "Not Applicable" %}
            <li><h5 class="w3-opacity">Faculty in charge: {{ page.specific.get_faculty_in_charge_display }}</h5></li>
          {% endif %}
          </ul>
        </div>

      </div> -->

        <div>
            {% for pic in page.gallery_images.all %}
            <div>
                <h3>{{ pic.caption }}</h3>
                <div>{% image pic.image fill-500x500 %}</div>
            </div>
            {% endfor %}
        </div>

        <!-- End Right Column -->
    </div>

    <!-- End Grid -->
</div>

<!-- End Page Container -->
</div>

{% endblock %}
