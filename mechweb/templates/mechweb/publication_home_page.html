{% extends "base.html" %}

{% load static %}

{% load wagtailcore_tags wagtailimages_tags %}

{% block body_class %}template-publication-homepage{% endblock %}

{% block body_style %}padding-top: 105px; {% endblock %}


{% block content %}

<div class="container-fluid pubcont">
  <h1 class="text-center">{{ page.title }}</h1>
  <!-- Intro -->
  <div class="intro">{{ page.intro|richtext }}</div>
  <hr>
</div>

<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist" style=" font-weight: bolder ">
    <li class="nav-item">
        
      <a class="nav-link navbar-brand active" id="patent-tab" data-toggle="pill" href="#patent" role="tab" aria-controls="patent" aria-selected="true" >Patent</a>
    </li>
    <li class="nav-item">
       
      <a class="nav-link navbar-brand" id="cp-tab" data-toggle="pill" href="#cp" role="tab" aria-controls="cp" aria-selected="false" >Conference Publication</a>
    </li>
    <li class="nav-item">
        
        <a class="nav-link navbar-brand " id="jp-tab" data-toggle="pill" href="#jp" role="tab" aria-controls="jp" aria-selected="false" >Journal Publication</a>
    </li>
      <li class="nav-item">
        
        <a class="nav-link navbar-brand " id="books-tab" data-toggle="pill" href="#books" role="tab" aria-controls="books" aria-selected="false" >Books</a>
    </li>
    <li class="nav-item">
        
        <a class="nav-link navbar-brand " id="bc-tab" data-toggle="pill" href="#bc" role="tab" aria-controls="bc" aria-selected="false" >Book Chapters</a>
    </li>
    <li class="nav-item">
        
          <a class="nav-link navbar-brand " id="poster-tab" data-toggle="pill" href="#poster" role="tab" aria-controls="poster" aria-selected="false" >Poster</a>
    </li>
    
  </ul>
  <br>
  <div class="tab-content" id="pills-tabContent">
    <div class="tab-pane fade show active " id="patent" role="tabpanel" aria-labelledby="patent-tab" style="margin-left: 28%; ">
        <ul class="list-group  text-center"  style="width: 50%">
            <ul>
                {%if pu%}
                {% for year in year_list %}
                <li>
                  <button class="{% if current_year %}class='active'{% endif %}" onclick="filterSelection('{{ year }}')">{{ year }}</button>
                </li>
             <!--     <li >
                   <a href="#abc{{ year }}" >
                   <span class="hidden-xs">{{ year }}</span></a>
                 </li> -->
                 {% endfor %}
                 <li>
                   <button class="{% if current_year %}class='active'{% endif %}" onclick="filterSelection('all')">All</button>
                 </li>
             </ul>
             
        </ul>

    </div>
    <div class="tab-pane fade" id="cp" role="tabpanel" aria-labelledby="cp-tab" style="margin-left: 28%"%>
        <ul class="list-group  text-center"  style="width: 50%">
            <ul >
                {% for year in year_list %}
                <li>
                  <button class="{% if current_year %}class='active'{% endif %}" onclick="filterSelection('{{ year }}')">{{ year }}</button>
                </li>
             <!--     <li >
                   <a href="#abc{{ year }}" >
                   <span class="hidden-xs">{{ year }}</span></a>
                 </li> -->
                 {% endfor %}
                 <li>
                   <button class="{% if current_year %}class='active'{% endif %}" onclick="filterSelection('all')">All</button>
                 </li>
             </ul>
              
        </ul>

    </div>
    <div class="tab-pane fade show active " id="jp" role="tabpanel" aria-labelledby="jp-tab" style="margin-left: 28%; ">
        <ul class="list-group  text-center"  style="width: 50%">
            <ul >
                {% for year in year_list %}
                <li>
                  <button class="{% if current_year %}class='active'{% endif %}" onclick="filterSelection('{{ year }}')">{{ year }}</button>
                </li>
             <!--     <li >
                   <a href="#abc{{ year }}" >
                   <span class="hidden-xs">{{ year }}</span></a>
                 </li> -->
                 {% endfor %}
                 <li>
                   <button class="{% if current_year %}class='active'{% endif %}" onclick="filterSelection('all')">All</button>
                 </li>
             </ul>
              
        </ul>

    </div>
    <div class="tab-pane fade show active " id="books" role="tabpanel" aria-labelledby="books-tab" style="margin-left: 28%; ">
        <ul class="list-group  text-center"  style="width: 50%">
            <ul >
                {% for year in year_list %}
                <li>
                  <button class="{% if current_year %}class='active'{% endif %}" onclick="filterSelection('{{ year }}')">{{ year }}</button>
                </li>
             <!--     <li >
                   <a href="#abc{{ year }}" >
                   <span class="hidden-xs">{{ year }}</span></a>
                 </li> -->
                 {% endfor %}
                 <li>
                   <button class="{% if current_year %}class='active'{% endif %}" onclick="filterSelection('all')">All</button>
                 </li>
             </ul>
             
        </ul>

    </div>
    <div class="tab-pane fade show active " id="bc" role="tabpanel" aria-labelledby="bc-tab" style="margin-left: 28%; ">
        <ul class="list-group  text-center"  style="width: 50%">
            <ul >
                {% for year in year_list %}
                <li>
                  <button class="{% if current_year %}class='active'{% endif %}" onclick="filterSelection('{{ year }}')">{{ year }}</button>
                </li>
             <!--     <li >
                   <a href="#abc{{ year }}" >
                   <span class="hidden-xs">{{ year }}</span></a>
                 </li> -->
                 {% endfor %}
                 <li>
                   <button class="{% if current_year %}class='active'{% endif %}" onclick="filterSelection('all')">All</button>
                 </li>
             </ul>
             
        </ul>

    </div>
    <div class="tab-pane fade show active " id="poster" role="tabpanel" aria-labelledby="poster-tab" style="margin-left: 28%; ">
        <ul class="list-group  text-center"  style="width: 50%">
            <ul >
                {% for year in year_list %}
                <li>
                  <button class="{% if current_year %}class='active'{% endif %}" onclick="filterSelection('{{ year }}')">{{ year }}</button>
                </li>
             <!--     <li >
                   <a href="#abc{{ year }}" >
                   <span class="hidden-xs">{{ year }}</span></a>
                 </li> -->
                 {% endfor %}
                 <li>
                   <button class="{% if current_year %}class='active'{% endif %}" onclick="filterSelection('all')">All</button>
                 </li>
             </ul>
             
        </ul>

    </div>
<ul>
    <li >
      <a href="{{ page.url }}?pub_type=0" >
      <span class="hidden-xs">Patent</span></a>
    </li>
    <li >
      <a href="{{ page.url }}?pub_type=1" >
      <span class="hidden-xs">Conference Publication</span></a>
    </li>
    <li >
      <a href="{{ page.url }}?pub_type=2" >
      <span class="hidden-xs">Journal Publication</span></a>
    </li>
    <li >
      <a href="{{ page.url }}?pub_type=3" >
      <span class="hidden-xs">Books</span></a>
    </li>
    <li >
      <a href="{{ page.url }}?pub_type=4" >
      <span class="hidden-xs">Book Chapters</span></a>
    </li>
    <li >
      <a href="{{ page.url }}?pub_type=5" >
      <span class="hidden-xs">Poster</span></a>
    </li>

</ul>



<ul id="myInputpub">
  {% for publication in pub_list %}
    <li class="filterDiv" id="year_{{ publication.specific.pub_year|date:'Y' }}">
      <h2><a href="{{ publication.url }}">{{ publication }}</a></h2>
    </li>
  {% endfor %}
</ul>






<script>
  function filterSelection(year) {
  var input, filter, ul, li, a, i, txtValue, integ, substraa, substrbb, yearint;
  ul = document.getElementById("myInputpub");
  list = ul.getElementsByClassName("filterDiv");
  yearint = parseInt(year);
  ;  // for (i = 0; i < li.length; i++) {
  //       li[i].style.display = "none";
  //   }

  // Add the "show" class (display:block) to the filtered elements, and remove the "show" class from the elements that are not selected
  for (i = 0; i < list.length; i++) {
    a = list[i].id;
    substraa = a.substring(0,4);
    substrbb = a.substring(5,9);
    integ = parseInt(substrbb);
    if ( integ === yearint) {
      list[i].style.display = "block";
    } else {
      list[i].style.display = "none";
    }
  }

  }
</script>



{% endblock %}


{% block extra_script %}

{% endblock %}